{
  "comments": [
    {
      "key": {
        "uuid": "59b2c8cc_41aa175e",
        "filename": "adb/daemon/main.cpp",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 13589
      },
      "writtenOn": "2017-11-03T11:53:41Z",
      "side": 1,
      "message": "This should a dual if under an #ifdef to avoid considering the legacy path when only the ffs support is enabled.",
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb18c858_b4717e7f",
        "filename": "adb/daemon/main.cpp",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 13648
      },
      "writtenOn": "2017-11-03T12:36:35Z",
      "side": 1,
      "message": "I don\u0027t see why we should do that here. That\u0027s already taken into account in usb_init().\n\nBut maybe moving the legacy path check to the end would be more clean.",
      "parentUuid": "59b2c8cc_41aa175e",
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e49de678_de1cad0b",
        "filename": "adb/daemon/main.cpp",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 13589
      },
      "writtenOn": "2017-11-03T17:50:04Z",
      "side": 1,
      "message": "I think it could trigger a sepolicy denial, especially if it\u0027s unlabeled (which we agreed not to do), but anyways, if we make it specific, I think it should not be unspecific here.\n\nEither keep the original code and #ifdef for both, or #ifdef to legacy only to be very specific.",
      "parentUuid": "cb18c858_b4717e7f",
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03b7350f_eeb6353a",
        "filename": "adb/daemon/usb.cpp",
        "patchSetId": 4
      },
      "lineNbr": 594,
      "author": {
        "id": 13589
      },
      "writtenOn": "2017-11-03T11:53:41Z",
      "side": 1,
      "message": "I would still have kept the if (access(USB_FFS_ADB_EP0, F_OK) \u003d\u003d 0) logic to preserve dual compatibility in that situation, if a ROM / builder decides to allow it globally for example.",
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35b588b5_2905884f",
        "filename": "adb/daemon/usb.cpp",
        "patchSetId": 4
      },
      "lineNbr": 594,
      "author": {
        "id": 13648
      },
      "writtenOn": "2017-11-03T12:36:35Z",
      "side": 1,
      "message": "From what I understood per Mike\u0027s suggestion, we want to avoid dual compatibility at all costs. Otherwise, we wouldn\u0027t be making this opt-in, right?",
      "parentUuid": "03b7350f_eeb6353a",
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04949974_d7eeafb4",
        "filename": "adb/daemon/usb.cpp",
        "patchSetId": 4
      },
      "lineNbr": 594,
      "author": {
        "id": 13589
      },
      "writtenOn": "2017-11-03T17:50:04Z",
      "side": 1,
      "message": "Fine. But refer to the previous comment too in regards of this suggestion.",
      "parentUuid": "35b588b5_2905884f",
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eed1eda7_f2450eba",
        "filename": "rootdir/ueventd.rc",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 13648
      },
      "writtenOn": "2017-11-03T11:27:49Z",
      "side": 1,
      "message": "I guess this can be moved to device trees (ueventd.qcom.rc).",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 43,
        "endChar": 47
      },
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f837195_429d3f02",
        "filename": "rootdir/ueventd.rc",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 13589
      },
      "writtenOn": "2017-11-03T11:53:41Z",
      "side": 1,
      "message": "I\u0027m fine with keep it, makes more sense to keep it with the related code instead of randomly per-device.",
      "parentUuid": "eed1eda7_f2450eba",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 43,
        "endChar": 47
      },
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14d9a490_940d76ce",
        "filename": "rootdir/ueventd.rc",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 13648
      },
      "writtenOn": "2017-11-03T12:36:35Z",
      "side": 1,
      "message": "Okay. I was thinking of moving it along with the sepolicies. But I got your point on the other change, and it makes sense.",
      "parentUuid": "4f837195_429d3f02",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 43,
        "endChar": 47
      },
      "revId": "4b7979b01c0f336366586d71dc334eac75b4c914",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    }
  ]
}